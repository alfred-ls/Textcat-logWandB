convert:
  cmd: python -m spacy run convert
  script:
    - python scripts/convert.py en assets/UC2_train_prodigy.jsonl corpus/train.spacy
    - python scripts/convert.py en assets/UC2_eval_prodigy.jsonl corpus/dev.spacy
  deps:
    - path: assets/UC2_train_prodigy.jsonl
      md5: 81c9ea7b96a682e20476779c557ae6d8
    - path: assets/UC2_eval_prodigy.jsonl
      md5: 18c89489499935fc8564a02cd89ffdfe
    - path: scripts/convert.py
      md5: 472f526a81d2288e426c9161c0e7819c
  outs:
    - path: corpus/train.spacy
      md5: 6a1e7cbc6821cd1974c29059ac6c3c22
    - path: corpus/dev.spacy
      md5: f3b97aa763a00e8834f9aa87bcb00b72
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --nlp.lang en --gpu-id -1
  deps:
    - path: configs/config.cfg
      md5: ab7fca63cf6f7dabb8a9310eb579ef25
    - path: corpus/train.spacy
      md5: 6a1e7cbc6821cd1974c29059ac6c3c22
    - path: corpus/dev.spacy
      md5: f3b97aa763a00e8834f9aa87bcb00b72
  outs:
    - path: training/model-best
      md5: f8536b0b360326e76314f31316f6df81
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/dev.spacy --output training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: f3b97aa763a00e8834f9aa87bcb00b72
    - path: training/model-best
      md5: f8536b0b360326e76314f31316f6df81
  outs:
    - path: training/metrics.json
      md5: 8bbc99fc45f03eca75a0b54c8f913834
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package training/model-best packages --name textcat_demo --version
      0.0.0 --force
  deps:
    - path: training/model-best
      md5: bab406245d0d57fce340d96caae4566a
  outs:
    - path: packages/en_textcat_demo-0.0.0/dist/en_textcat_demo-0.0.0.tar.gz
      md5: b159c8803ffb5859b5c9507f0a15eedd
  spacy_version: 3.1.1
  spacy_git_version: ffaead8fe
